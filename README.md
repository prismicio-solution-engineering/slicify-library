# Prismic Slice Library Example

Brought to you by Prismic Solution Engineering Team

_Prerequisite:_
- _have node v18 or above installed on your local machine : https://nodejs.org/en/_
- _have a Prismic and Next.js project built with SliceMachine (slice-machine-ui v1.26.0 or above)_

> This project is a simplified version of Prismic Next.js Demo project aka [slicify](https://github.com/prismicio-solution-engineering/slicify-app)

You can see this slice library deployed here: [here](https://slicify-library.vercel.app/slice-library)

### Step 1. Add the `/app/slice-library` folder to your `/app` folder

This folder contains three files:
- [page.tsx](https://github.com/prismicio-solution-engineering/slicify-library/blob/main/app/slice-library/page.tsx) : the page itself, holds logic to get slice data (models and mocks)
- [SliceLibrary.tsx](https://github.com/prismicio-solution-engineering/slicify-library/blob/main/app/slice-library/SliceLibrary.tsx) : UI server component to display Slices on the page
- [SliceLibraryNav.tsx](https://github.com/prismicio-solution-engineering/slicify-library/blob/main/app/slice-library/SliceLibraryNav.tsx) : UI client component to handle sidebar navigation 

### Step 2. Install dependency

```bash
npm i @headlessui/react
```

### Step 3. Optional (only if you have multiple slice-libraries)

Edit the SliceLibrary.tsx file to include all your slice libraries components

```ts
// If needed, Add components from all your slice libraries if you have multiple:
// import { components as ecommerceComponents } from '@/slices/blog/index'
// import { components as marketingComponents } from '@/slices/marketing/index'
// const __allComponents = { ...ecommerceComponents, ...marketingComponents }

import { components as __allComponents } from '@/slices/index'
```

### Step 4. Run your app and go to `slice-library` page

```bash
npm run dev
```

You can now access your slice-library here : [http://localhost:3000/slice-library](http://localhost:3000/slice-library) .


### Step 5. Run SliceMachine and edit your mocks

```bash
npm run slicemachine
```

You can now access your SliceMachine here : [http://localhost:9999](http://localhost:9999) .

You can then go into each of your slices and edit the mock data by clicking the simulate button at the top right. This mock data will be used to build your slice-library page.

SliceMachine generates mocks automatically but you might want to make them prettier!

# Troubleshooting

- If you have issues with Next.js not displaying your slices when deployed, you can add this code to your next.config to specify Next.js to uses your /slices folder when building your slice-library page, as shown [here](https://github.com/prismicio-solution-engineering/slicify-app/blob/main/next.config.mjs#L5-L9)

```
experimental:{
      outputFileTracingIncludes: {
        '/slice-library': ['./slices/**/*']
      }
},
```

- Some slices might fail if the Slice components are not checking if slice data exist before using them (especially for non-filled content relationships, integration fields...). In these two cases the mocks are not generated by SM, so there is no data to display at the moment, this will be added later. You can edit your slices to check for that content so the page can be built.

## Disclaimer

This project is made to test out Prismic, Slices used in this project are subject to Tailwind UI license : https://tailwindui.com/license
Images used in this project are from unsplash.com, please find unsplash license here : https://unsplash.com/license
